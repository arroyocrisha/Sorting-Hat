<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>The Sorting Hat</title>

<style>
body {
  margin: 0;
  font-family: "Georgia", serif;
  background: url("https://images.unsplash.com/photo-1519681393784-d120267933ba") center/cover fixed;
  color: #eee;
}
.overlay {
  background: rgba(0,0,0,0.9);
  min-height: 100vh;
  padding: 40px;
}
h1 {
  text-align: center;
  letter-spacing: 4px;
}
#whisper {
  text-align: center;
  font-style: italic;
  opacity: 0.6;
  animation: whisper 4s infinite;
}
@keyframes whisper {
  0% {opacity:0.3;}
  50% {opacity:0.85;}
  100% {opacity:0.3;}
}
.question {
  max-width: 880px;
  margin: 45px auto;
  padding: 28px;
  background: rgba(15,15,15,0.95);
  border-radius: 10px;
  animation: fadeIn 1.6s ease;
}
@keyframes fadeIn {
  from {opacity:0; transform: translateY(25px);}
  to {opacity:1; transform: translateY(0);}
}
.context {
  font-size: 15px;
  opacity: 0.8;
  margin-bottom: 15px;
}
.options label {
  display: block;
  margin: 14px 0;
  cursor: pointer;
}
button {
  display: block;
  margin: 70px auto;
  padding: 16px 42px;
  font-size: 18px;
  background: #5b4a87;
  border: none;
  color: #fff;
  border-radius: 8px;
  cursor: pointer;
}
button:hover {
  background: #44346b;
}
#thinking {
  display: none;
  text-align: center;
  font-size: 22px;
}
#resultPage {
  display: none;
  text-align: center;
}
#seal {
  width: 300px;
  animation: reveal 3s ease;
}
@keyframes reveal {
  from {opacity:0; transform: scale(0.6);}
  to {opacity:1; transform: scale(1);}
}
.credit {
  margin-top: 60px;
  opacity: 0.6;
  font-size: 14px;
}
</style>
</head>

<body>
<div class="overlay">

<div id="quizPage">
  <h1>üß¢ THE SORTING HAT</h1>
  <p id="whisper">‚ÄúLet me look deeper‚Ä¶ past what you pretend to be.‚Äù</p>
  <form id="quiz"></form>
  <button onclick="beginSorting()">Reveal My House</button>
</div>

<div id="thinking">
  <p>The hat tightens‚Ä¶</p>
  <p><em>Uncovering truths you avoid naming‚Ä¶</em></p>
</div>

<div id="resultPage">
  <img id="seal">
  <h1 id="houseName"></h1>
  <div class="credit">by ccarroyo</div>
</div>

</div>

<script>
const questions = [
  {
    title: "The Inheritance (Knowledge of Fate)",
    context: "You‚Äôve discovered forbidden knowledge‚Äîinformation that reveals when and how people will die. Knowing this could change everything. What do you do?",
    answers: [
      "Burn it immediately. The burden of knowing would destroy my ability to live freely.",
      "Keep it and use it. I would rather suffer now than waste a single remaining second.",
      "Sell it or use it to prevent the cause, even if it means breaking the natural order."
    ]
  },
  {
    title: "The Scapegoat (The Weight of One vs. Many)",
    context: "A city can be saved, but only if one innocent person is sacrificed. No one else can replace them.",
    answers: [
      "I refuse. No paradise is worth an innocent life.",
      "I do it. One life for millions is an unavoidable calculation.",
      "I manipulate events so they volunteer. The result matters more than my guilt."
    ]
  },
  {
    title: "The Mirror (The Path Not Taken)",
    context: "You see a version of yourself who embraced every forbidden desire you suppressed. They are powerful‚Äîand unrestrained.",
    answers: [
      "Disgust. I take pride in mastering my darker instincts.",
      "Jealousy. That version is free while I live constrained.",
      "Curiosity. I want to know what I could become without rules."
    ]
  },
  {
    title: "The Silence (Erasure of Truth)",
    context: "You have the power to erase one truth from the world forever.",
    answers: [
      "A personal trauma. My peace is worth the world‚Äôs ignorance.",
      "A historic tragedy. Forgetting it may stop future hatred.",
      "A dangerous discovery. Some truths are too heavy for humanity."
    ]
  },
  {
    title: "The Banquet (Social Warfare)",
    context: "You are seated beside an enemy who could ruin you if they chose to.",
    answers: [
      "Charm them. Turning enemies into allies is the greatest victory.",
      "Intimidate them. Fear is a far more reliable weapon.",
      "Say nothing. I collect information and wait."
    ]
  },
  {
    title: "The Statue (Legacy vs. Reality)",
    context: "History offers you a statue‚Äîbut it tells a lie about what you did.",
    answers: [
      "Accept it. Inspiration matters more than truth.",
      "Refuse it. Doing good needs no monument.",
      "Expose the truth, even if I‚Äôm remembered as a villain."
    ]
  },
  {
    title: "The Pedestal (Loyalty vs. Morality)",
    context: "Someone you love committed a serious crime.",
    answers: [
      "Help them hide it. Loyalty comes before abstract morality.",
      "Turn them in. No one stands above the law.",
      "Use the secret as leverage. Love doesn‚Äôt erase opportunity."
    ]
  },
  {
    title: "The Bargain (Competence vs. Joy)",
    context: "You may master only one ability for life.",
    answers: [
      "Creative art‚Äîto move others, even if I feel empty.",
      "Politics and strategy‚Äîjoy is secondary to control.",
      "Combat mastery‚Äîthe power to protect or destroy."
    ]
  },
  {
    title: "The Void (The Great Reset)",
    context: "You can erase the world and start again.",
    answers: [
      "I don‚Äôt press it. Pain gives meaning to joy.",
      "I press it out of mercy‚Äîto end all suffering.",
      "I press it out of curiosity. I want to see what happens."
    ]
  },
  {
    title: "The Secret (Identity)",
    context: "At your core, what do you want most?",
    answers: [
      "To be known and remembered.",
      "To remain hidden and untouchable.",
      "To be misunderstood on purpose."
    ]
  },
  {
    title: "The Animal (Nature of the Soul)",
    context: "Your soul has a shape. What is it?",
    answers: [
      "A Wolf‚Äîloyal to the pack, ruthless to outsiders.",
      "A Serpent‚Äîpatient, feared, and precise.",
      "An Owl‚Äîdetached, watching the bigger picture."
    ]
  },
  {
    title: "The Crown (Unpopular Rule)",
    context: "You are offered absolute power, but the people despise you.",
    answers: [
      "Take it. I know what‚Äôs best for them.",
      "Decline it. Leadership without trust breeds tyranny.",
      "Take it‚Äîand reshape them until they love me."
    ]
  },
  {
    title: "The Debt (Self-Sacrifice)",
    context: "How many lives would you trade to save the world?",
    answers: [
      "As many as it takes, including my own.",
      "None. I have a purpose that requires survival.",
      "Only those with value‚Äîto the world or to me."
    ]
  },
  {
    title: "The Ghost (Afterlife of Spite)",
    context: "If you could haunt the living after death‚Ä¶",
    answers: [
      "I‚Äôd stay with a loved one.",
      "I‚Äôd haunt my enemy.",
      "I‚Äôd move on immediately."
    ]
  },
  {
    title: "The Final Door (Judgment)",
    context: "When your life is judged, what matters most?",
    answers: [
      "My intentions.",
      "My results.",
      "My own standards alone."
    ]
  }
];

const houseMap = [
  ["hufflepuff","slytherin","ravenclaw"],
  ["hufflepuff","gryffindor","slytherin"],
  ["gryffindor","hufflepuff","ravenclaw"]
];

const quiz = document.getElementById("quiz");

questions.forEach((q,i)=>{
  const map = houseMap[i % 3];
  quiz.innerHTML += `
    <div class="question">
      <p><strong>${i+1}. ${q.title}</strong></p>
      <p class="context">${q.context}</p>
      <div class="options">
        <label><input type="radio" name="q${i}" value="${map[0]}"> ${q.answers[0]}</label>
        <label><input type="radio" name="q${i}" value="${map[1]}"> ${q.answers[1]}</label>
        <label><input type="radio" name="q${i}" value="${map[2]}"> ${q.answers[2]}</label>
      </div>
    </div>
  `;
});

function beginSorting() {
  const checked = document.querySelectorAll("input:checked");
  if (checked.length < 15) {
    alert("The hat has not finished judging you.");
    return;
  }

  document.getElementById("quizPage").style.display = "none";
  document.getElementById("thinking").style.display = "block";

  setTimeout(() => sortHouse(checked), 3500);
}

function sortHouse(checked) {
  const score = {gryffindor:0,ravenclaw:0,hufflepuff:0,slytherin:0};
  checked.forEach(a => score[a.value]++);

  const house = Object.keys(score).reduce((a,b)=>score[a]>score[b]?a:b);

  const data = {
    gryffindor:{name:"GRYFFINDOR",img:"https://static.wikia.nocookie.net/harrypotter/images/7/7e/Gryffindor_ClearBG.png"},
    ravenclaw:{name:"RAVENCLAW",img:"https://static.wikia.nocookie.net/harrypotter/images/4/4e/Ravenclaw_ClearBG.png"},
    hufflepuff:{name:"HUFFLEPUFF",img:"https://static.wikia.nocookie.net/harrypotter/images/6/62/Hufflepuff_ClearBG.png"},
    slytherin:{name:"SLYTHERIN",img:"https://static.wikia.nocookie.net/harrypotter/images/1/1b/Slytherin_ClearBG.png"}
  };

  document.getElementById("thinking").style.display = "none";
  document.getElementById("resultPage").style.display = "block";
  document.getElementById("seal").src = data[house].img;
  document.getElementById("houseName").innerText = data[house].name;
}
</script>

</body>
</html>
