<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>The Sorting Hat</title>

<style>
body {
  margin: 0;
  font-family: "Georgia", serif;
  background: url("https://images.unsplash.com/photo-1509021436665-8f07dbf5bf1d") no-repeat center center fixed;
  background-size: cover;
  color: #f2f2f2;
}

.overlay {
  background: rgba(0, 0, 0, 0.85);
  min-height: 100vh;
  padding: 30px;
}

h1 {
  text-align: center;
  letter-spacing: 3px;
}

.question {
  margin: 30px auto;
  max-width: 800px;
  padding: 20px;
  background: rgba(30,30,30,0.9);
  border-radius: 8px;
}

.options label {
  display: block;
  margin: 8px 0;
  cursor: pointer;
}

button {
  display: block;
  margin: 40px auto;
  padding: 14px 30px;
  font-size: 18px;
  background: #7b5cff;
  color: #fff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

button:hover {
  background: #5f45cc;
}

#result {
  display: none;
  text-align: center;
  margin-top: 60px;
}

#result img {
  width: 180px;
  margin-top: 20px;
}

.credit {
  margin-top: 50px;
  font-size: 14px;
  opacity: 0.7;
}
</style>
</head>

<body>
<div class="overlay">

<h1>üß¢ THE SORTING HAT</h1>
<p style="text-align:center;">Answer honestly. The hat listens when you don‚Äôt.</p>

<form id="quiz">

<script>
const questions = [
  "What are your thoughts on murder?",
  "Power without accountability is...",
  "If loyalty conflicts with ambition, you choose...",
  "You find out someone betrayed you.",
  "Rules exist to be...",
  "You are offered forbidden knowledge.",
  "What scares you most?",
  "If someone stands in your way...",
  "Your greatest strength is...",
  "You value reputation or truth?",
  "Would you sacrifice one to save many?",
  "People are mostly...",
  "How do you react to humiliation?",
  "If you lose everything, you...",
  "Deep down, you want to be remembered as..."
];

const answers = [
  ["Unforgivable", "Context matters", "Protect loved ones", "Sometimes necessary"],
  ["Dangerous", "Inevitable", "Cruel", "Essential"],
  ["Loyalty", "Balance", "Loyalty always", "Ambition"],
  ["Confront them", "Analyze quietly", "Forgive", "Plot revenge"],
  ["Broken", "Necessary", "Protective", "Tools"],
  ["Refuse it", "Study it", "Lock it away", "Use it"],
  ["Being powerless", "Being wrong", "Being alone", "Being forgotten"],
  ["Face them", "Outthink them", "Avoid conflict", "Remove them"],
  ["Bravery", "Intellect", "Compassion", "Ambition"],
  ["Truth", "Truth", "Reputation", "Reputation"],
  ["No", "Depends", "Yes, painfully", "Yes"],
  ["Good", "Neutral", "Good-hearted", "Selfish"],
  ["Confront", "Strategize", "Endure", "Retaliate"],
  ["Rebuild", "Learn", "Lean on others", "Rise stronger"],
  ["Brave", "Wise", "Kind", "Powerful"]
];

const houses = ["gryffindor","ravenclaw","hufflepuff","slytherin"];

document.write(
  questions.map((q, i) => `
    <div class="question">
      <p><strong>${i+1}. ${q}</strong></p>
      <div class="options">
        ${answers[i].map((a,j)=>`
          <label>
            <input type="radio" name="q${i}" value="${houses[j]}" />
            ${a}
          </label>
        `).join("")}
      </div>
    </div>
  `).join("")
);
</script>

<button type="button" onclick="sortHouse()">Reveal My House</button>
</form>

<div id="result">
  <h2 id="houseName"></h2>
  <img id="houseImg" />
  <p id="houseDesc"></p>
  <div class="credit">by ccarroyo</div>
</div>

</div>

<script>
function sortHouse() {
  const score = {gryffindor:0, ravenclaw:0, hufflepuff:0, slytherin:0};
  const checked = document.querySelectorAll("input[type='radio']:checked");

  if (checked.length < 15) {
    alert("The Sorting Hat requires all answers.");
    return;
  }

  checked.forEach(a => score[a.value]++);

  const house = Object.keys(score).reduce((a,b)=>score[a]>score[b]?a:b);

  const data = {
    gryffindor: {
      name: "ü¶Å GRYFFINDOR",
      img: "https://upload.wikimedia.org/wikipedia/commons/7/7e/Gryffindor_Crest.png",
      desc: "Bold, reckless, and ruled by courage."
    },
    ravenclaw: {
      name: "ü¶Ö RAVENCLAW",
      img: "https://upload.wikimedia.org/wikipedia/commons/4/4e/Ravenclaw_Crest.png",
      desc: "Intelligent, observant, and quietly dangerous."
    },
    hufflepuff: {
      name: "ü¶° HUFFLEPUFF",
      img: "https://upload.wikimedia.org/wikipedia/commons/6/62/Hufflepuff_Crest.png",
      desc: "Loyal, moral, and stronger than people assume."
    },
    slytherin: {
      name: "üêç SLYTHERIN",
      img: "https://upload.wikimedia.org/wikipedia/commons/1/1b/Slytherin_Crest.png",
      desc: "Ambitious, strategic, and unafraid of desire."
    }
  };

  document.getElementById("houseName").innerText = data[house].name;
  document.getElementById("houseImg").src = data[house].img;
  document.getElementById("houseDesc").innerText = data[house].desc;
  document.getElementById("result").style.display = "block";
}
</script>

</body>
</html>
